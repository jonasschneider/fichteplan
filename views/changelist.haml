- changes.each do |change|
  %li
    %span.lesson== #{change.lesson}. Stunde
    - unless defined? skip_old
      %span.info== (#{change.old_subject} bei #{change.old_teacher})
    
    - case change.type
    - when :entfall
      %strong.change entfällt
    
    - when :raum
      in Raum
      %strong.change= change.new_room
      
    - when :vertretung
      vertreten durch
      %strong.change
        = change.new_teacher
        - if change.new_room != change.old_room
          == in #{change.new_room}
      
    - when :betreuung
      betreut durch
      %strong.change
        = change.new_teacher
        - if change.new_room != change.old_room
          == in #{change.new_room}
      
    - when :verlegung
      wird zu
      %strong.change
        == #{change.new_subject} bei #{change.new_teacher} 
        - if change.new_room != change.old_room
          == in #{change.new_room}
      - if change.text.empty? && !change.moved_from.empty?
        == (verlegt von #{change.moved_from})
    
    - when :tausch
      getauscht mit
      %strong.change
        == #{change.new_subject} bei #{change.new_teacher} 
        - if change.new_room != change.old_room
          == in #{change.new_room}
    
    - else
      Änderung nicht erkannt!
      =h change.inspect
      
    - unless change.text.empty?
      %span.text== (#{change.text})